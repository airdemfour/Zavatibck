<link rel="stylesheet" href="{{theme}}/vendor/fontawesome/css/font-awesome.css" />
<link rel="stylesheet" href="{{theme}}/vendor/metisMenu/dist/metisMenu.css" />
<link rel="stylesheet" href="{{theme}}/vendor/animate.css/animate.css" />
<link rel="stylesheet" href="{{theme}}/vendor/bootstrap/dist/css/bootstrap.css" />
<link rel="stylesheet" href="{{theme}}/vendor/datatables.net-bs/css/dataTables.bootstrap.min.css" />

<!-- App styles -->
<link rel="stylesheet" href="{{theme}}/fonts/pe-icon-7-stroke/css/pe-icon-7-stroke.css" />
<link rel="stylesheet" href="{{theme}}/fonts/pe-icon-7-stroke/css/helper.css" />
<link rel="stylesheet" href="{{theme}}/styles/style.css">
<div class="content">
    <div class="row">

        <div class="col-md-8">

            <div class="font-bold m-b-sm">
                Project details
            </div>

            <div class="hpanel">
                <div class="panel-body">

                    <div class="pull-right">
                        <button class="btn btn-success btn-xs">  Active</button>
                        <button class="btn btn-default btn-xs"> <i class="fa fa-pencil"></i> Edit</button>
                    </div>
                    <h2 class="m-t-none">{{project_name}} </h2>
                    <small>
                        {{description}}
                    </small>
                    <div class="small m-t-xs">
                        <strong>Created by:</strong> Abubakar Lamido<br/>
                        <strong>Location:</strong> Wuye District
                    </div>



                    <div class="m-t-md">
                        <canvas id="lineOptions" height="60"></canvas>
                    </div>
                </div>
            </div>
            <div class="hpanel">
                <ul class="nav nav-tabs">
                    <li class="active"><a data-toggle="tab" href="components.html#tab-1">Blocks</a></li>
                    <li class=""><a data-toggle="tab" href="components.html#tab-2">Units</a></li>
                </ul>
                <div class="tab-content">
                    <div id="tab-1" class="tab-pane active">
                        <div class="panel-body">
                         <div class="row" style="padding: 0px 15px 10px 0px"><div> <button style="float:right;" type="button" class="btn btn-success" data-toggle="modal" data-target="#newblock">
                            Add Block
                        </button></div></div>
                        <table id="example2" class="table table-striped table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Description</th>
                                    <th>No of Units</th>
                                    <th>Options</th>
                                </tr>
                            </thead>
                            <tbody>
                               {%foreach projectblocks as block : <tr> <td>{{block.name}}</td> <td>{{block.description}}</td><td>{{block.units}}</td><td>
                               <div class="btn-group">
                                <button class="btn btn-default btn-sm" data-toggle="modal" data-target="#newunit" href="{{dir}}/projects/new_unit/{{block.bid}}"><i class="fa fa-plus" ></i> Add Unit</button>
                                <button class="btn btn-default btn-sm" data-toggle="modal" data-target="#editblock" href="{{dir}}/projects/edit_block/{{block.bid}}"><i class="fa fa-pencil"></i> Edit Block</button>
                            </div>
                        </td></tr>  %} 
                    </tbody>
                </table>
            </div>
        </div>
        <div id="tab-2" class="tab-pane">
            <div class="panel-body">
                        <table id="units" class="table table-striped table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th>Unit Type</th>
                                    <th>Unit Description</th>
                                    <th>Block</th>
                                    <th>Options</th>
                                </tr>
                            </thead>
                            <tbody>
                               {%foreach projectunits as unit : <tr> <td>{{unit.unittype}}</td> <td>{{unit.unitdescription}}</td><td>{{unit.blockname}}</td><td>
                               <div class="btn-group">
                                
                                <button class="btn btn-default btn-sm"><i class="fa fa-pencil"></i> Edit Unit</button>
                            </div>
                        </td></tr>  %} 
                    </tbody>
                </table>
                                    
            </div>
        </div>
    </div>


        </div>

    </div>

    <div class="col-md-4">

        <div class="font-bold m-b-sm">
            Project statistics
        </div>

        <div class="hpanel stats">
            <div class="panel-body">

                <div>
                    <i class="pe-7s-cash fa-4x"></i>
                    <h1 class="m-xs text-success">N 1,208,2000</h1>
                </div>

                <p>
                    <strong>Existence of spring</strong> and feel the charm of existence in this spot, which was created for the bliss of souls like mine.
                </p>
                <div class="row">
                    <div class="col-xs-6">
                        <small class="stat-label">Today</small>
                        <h4>N170,020 <i class="fa fa-level-up text-success"></i></h4>
                    </div>
                    <div class="col-xs-6">
                        <small class="stat-label">Last week</small>
                        <h4>N58,090 <i class="fa fa-level-up text-success"></i></h4>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-6">
                        <small class="stat-label">Today</small>
                        <h4>N62,0320 <i class="fa fa-level-up text-success"></i></h4>
                    </div>
                    <div class="col-xs-6" >
                        <small class="stat-label">Last week</small>
                        <h4>N1,403,270 <i class="fa fa-level-up text-success"></i></h4>
                    </div>
                </div>
            </div>
        </div>

        <div class="font-bold m-b-sm">
            Project Actions
        </div>

        <div class="row">
            <div class="col-md-6">

                <div class="hpanel">
                    <div class="panel-body text-center">

                        <div class="m-t-sm">
                            <strong>REQUEST FOR MATERIALS</strong>
                            <p class="small">REQUEST FOR MATERIALS</p>
                        </div>
                    </div>
                </div>

                <div class="hpanel">
                    <div class="panel-body text-center">
                        <div class="m-t-sm">
                            <strong>STORE REQUEST</strong>
                            <p class="small">Store Officer</p>
                        </div>
                    </div>
                </div>

            </div>
            <div class="col-md-6">

                <div class="hpanel">
                    <div class="panel-body text-center">
                        <div class="m-t-sm">
                            <strong>ADD FUNDING</strong>
                            <p class="small">Finance</p>
                        </div>
                    </div>
                </div>

                <div class="hpanel">
                    <div class="panel-body text-center">
                        <div class="m-t-sm">
                            <strong>DISBURSE FUNDS</strong>
                            <p class="small">Finance</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>



    </div>


</div>
</div>

<!-- modals-->
<!-- Create new block modal -->
<div class="modal fade" id="newblock" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="color-line"></div>
            <div class="modal-header text-center">
                <h4 class="modal-title">Add Block</h4>
                <small class="font-bold">Add a new block to {{project_name}}</small>
            </div>
            <div class="modal-body">
                <form method="POST" action="{{dir}}/projects/view/{{projectid}}">
                <div class="form-group"><label class="col-sm-5 control-label">Enter Block Details:</label>
                    <p><input type="text" placeholder="Block Name" class="form-control" name="name"></p>
                    <p><input type="text" placeholder="Block Description" class="form-control" name="description"></p> 
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary">Add</button>
                </div>   
                <input type="hidden" name="projectid_blocks" value="{{projectid}}">
                </form>
            </div>                         
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>           
    </div>
 </div>

<!-- Add new unit modal -->
<div class="modal fade" id="newunit" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="color-line"></div>
            <div class="modal-header text-center">
                <h4 class="modal-title">Add Unit</h4>
                <small class="font-bold">Add a new block to {{project_name}}</small>
            </div>
            <div class="modal-body">
                <form method="POST" action="{{dir}}/projects/view/{{projectid}}">
                <div class="form-group"><label class="col-sm-5 control-label">Enter Block Details:</label>
                    <p><input type="text" placeholder="Block Name" class="form-control" name="name"></p>
                    <p><input type="text" placeholder="Block Description" class="form-control" name="description"></p> 
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary">Add</button>
                </div>   
                <input type="hidden" name="projectid_blocks" value="{{projectid}}">
                </form>
            </div>                         
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>           
    </div>
 </div>


<!-- Edit block modal -->
<div class="modal fade" id="editblock" tabindex="-1" role="dialog" aria-hidden="true">
   <div class="modal-dialog">
        <div class="modal-content">
            <div class="color-line"></div>
            <div class="modal-header text-center">
                <h4 class="modal-title">Add Unit</h4>
                <small class="font-bold">Add a new block to {{project_name}}</small>
            </div>
            <div class="modal-body">
                Loading...
            </div>
        </div>           
    </div>
 </div>
<!--end modals -->




    <!-- Vendor scripts -->
    <script src="{{theme}}/vendor/jquery/dist/jquery.min.js"></script>
    <script src="{{theme}}/vendor/jquery-ui/jquery-ui.min.js"></script>
    <script src="{{theme}}/vendor/slimScroll/jquery.slimscroll.min.js"></script>
    <script src="{{theme}}/vendor/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="{{theme}}/vendor/metisMenu/dist/metisMenu.min.js"></script>
    <script src="{{theme}}/vendor/iCheck/icheck.min.js"></script>
    <script src="{{theme}}/vendor/sparkline/index.js"></script>
    <script src="{{theme}}/vendor/chartjs/Chart.min.js"></script>

    <!-- DataTables -->
    <script src="{{theme}}/vendor/datatables/media/js/jquery.dataTables.min.js"></script>
    <script src="{{theme}}/vendor/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
    <!-- DataTables buttons scripts -->
    <script src="{{theme}}/vendor/pdfmake/build/pdfmake.min.js"></script>
    <script src="{{theme}}/vendor/pdfmake/build/vfs_fonts.js"></script>
    <script src="{{theme}}/vendor/datatables.net-buttons/js/buttons.html5.min.js"></script>
    <script src="{{theme}}/vendor/datatables.net-buttons/js/buttons.print.min.js"></script>
    <script src="{{theme}}/vendor/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
    <script src="{{theme}}/vendor/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
    <!-- App scripts -->
    <script src="{{theme}}/scripts/homer.js"></script>


    <script>

    $(function(){

       $('#example2').dataTable({
           dom: "<'row'<'col-sm-4'l><'col-sm-4 text-center'B><'col-sm-4'f>>tp",
           "lengthMenu": [ [10, 25, 50, -1], [10, 25, 50, "All"] ],
           buttons: [
           {extend: 'copy',className: 'btn-sm'},
           {extend: 'csv',title: 'ExampleFile', className: 'btn-sm'},
           {extend: 'pdf', title: 'ExampleFile', className: 'btn-sm'},
           {extend: 'print',className: 'btn-sm'}
           ]
       });

        $('#units').dataTable({
           dom: "<'row'<'col-sm-4'l><'col-sm-4 text-center'B><'col-sm-4'f>>tp",
           "lengthMenu": [ [10, 25, 50, -1], [10, 25, 50, "All"] ],
           buttons: [
           {extend: 'copy',className: 'btn-sm'},
           {extend: 'csv',title: 'ExampleFile', className: 'btn-sm'},
           {extend: 'pdf', title: 'ExampleFile', className: 'btn-sm'},
           {extend: 'print',className: 'btn-sm'}
           ]
       });
        /**
         * Options for Line chart
         */
         var lineData = {
            labels: ["January", "February", "March", "April"],
            datasets: [
            {
                label: "Example dataset",
                backgroundColor: "rgba(98,203,49,0.5)",
                borderColor: "rgba(98,203,49,0.7)",
                pointBackgroundColor: "rgba(98,203,49,1)",
                pointBorderColor: "#fff",
                pointHoverBackgroundColor: "#fff",
                pointHoverBorderColor: "rgba(26,179,148,1)",
                data: [17,21,19,24]
            }
            ]
        };

        var lineOptions = {
            responsive: true,
            legend: {
                display: false
            }
        };

        var ctx = document.getElementById("lineOptions").getContext("2d");
        new Chart(ctx, {type: 'line', data: lineData, options:lineOptions});
        



    });




</script>

